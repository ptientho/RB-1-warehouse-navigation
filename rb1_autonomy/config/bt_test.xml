<root BTCPP_format="4">
    <BehaviorTree ID="MainTree">
        <RetryUntilSuccessful num_attempts="3">
            <Sequence>
                <GoToPose name="go_to_location1" loc="location1"/>
                <ShelfDetector name="detect_shelf" service_name="go_to_shelf" find_shelf="{shelf_found}" shelf_pose="{goal_pose}"/>
                <GoToPose name="go_to_location2" loc="location2"/>
                <GoToPose name="go_to_location3" loc="location3"/>
                <GoToPose name="go_to_location4" loc="location4"/>
            </Sequence>
        </RetryUntilSuccessful>
    </BehaviorTree>
</root>